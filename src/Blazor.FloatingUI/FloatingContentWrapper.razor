@using System.Text.Json

<floating-wrapper target-id="@TargetId" settings="@_settings">
    @ChildContent
</floating-wrapper>

@code {

    private string _settings = null!;
    private static readonly JsonSerializerOptions SerializerOptions = new()
    {
        PropertyNamingPolicy = JsonNamingPolicy.CamelCase
    };
    
    [Parameter, EditorRequired] public RenderFragment ChildContent { get; set; } = null!;
    [Parameter, EditorRequired] public string TargetId { get; set; } = null!;

    [Parameter, EditorRequired]
    public FloatingSettingsModel Settings
    {
        set => _settings = JsonSerializer.Serialize(value, SerializerOptions);
    }

}